## 11.类的动态内存分配

1. ![image-20201218184809497](assets/image-20201218184809497.png)

2. 不能在类声明中初始化静态成员变量。因为声明描述了如何分配内存，但并不分配内存。对于静态的类成员可以在类声明之外使用单独的语句进行初始化：

   ```cpp
   // str.h
   class Str {
       char *str;
       int len;
   public:
     	// 静态类变量
       static int num_strs;
   };
   
   // str.cpp
   // 初始化类中的静态成员变量 (开头的int是必须加的，直接写`Str::num_strs = 10`会报错)
   int Str::num_strs = 10;
   
   // main.cpp调用
   		Str s;
       cout << s.num_strs << endl;				// 输出：10
       cout << Str::num_strs << endl;		// 输出：10
       s.num_strs++;
       cout << Str::num_strs << endl;		// 输出：11
   ```

   初始化类的静态变量需要在方法文件(.cpp)中，而不是在类声明的文件(.h)中。这是因为类声明位于头文件中，程序可能将头文件包含在其他几个文件中。如果在头文件中进行初始化，将出现多个初始化语句副本从而引发错误。

   但是，如果类的静态成员变量是**整形**或**枚举型**，则可以在类声明中初始化。